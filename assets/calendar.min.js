!function(f){void 0!==window.jQuery?f.fn.nattreidCalendar=function(e){var t=f(this),a=f(this).find(".nattreid-calendar").data("handler"),n=f(this).find(".nattreid-calendar").data("disable-before-current"),d=0,r=[],s=f.extend({},{onSelected:function(e){}},e);function i(){var n=[];return r.forEach(function(e){var a=e.split("-");n.push(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10)))}),n}function l(){f.nette.ajax({url:a,data:{nattreidCalendarPosition:d}}).done(function(){r.forEach(function(e){c(e).addClass("selected")});var e=o(r);e&&e.addClass("selection")})}function c(e){return t.find('.nattreid-calendar .day[data-date="'+e+'"]')}function o(e){var a,n=c(e[0]),t=c(e[1]);if(n.parent().is(t.parent()))a=n.nextUntil(t);else{var d=n.closest(".month").nextUntil(t.closest(".month")).find(".day");a=n.nextAll().add(d).add(t.prevAll())}return!(a=a.not(".hiddenCell")).hasClass("disabled")&&a}function u(a){t.find(".nattreid-calendar .day").removeClass("selection");var n=[];null!=a?r.forEach(function(e){a.is(c(e))?a.removeClass("selected"):n.push(e)}):r.forEach(function(e){c(e).removeClass("selected")}),r=n}return this.getSelected=i,f(this).on("click",".nattreid-calendar a.prev",function(){return(!n||0<d)&&(--d,l()),!1}),f(this).on("click",".nattreid-calendar a.next",function(){return d++,l(),!1}),f(this).on("click",".nattreid-calendar .day",function(){var e=f(this);e.hasClass("disabled")||(e.hasClass("selected")?u:function(e){var a=e.data("date");switch(r.length){default:case 2:u();case 0:r.push(a),e.addClass("selected");break;case 1:var n=r.slice();n[0]>a?n=[a,n[0]]:n.push(a);var t=o(n);t&&(t.addClass("selection"),e.addClass("selected"),r=n),s.onSelected(i())}})(e)}),this}:console.error('Plugin "jQuery" required by "Nattreid/Calendar" is missing!')}(jQuery);